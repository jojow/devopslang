{
    "name": "chat-app-ops",
    "version": "...",
    "author": "...",
    "description": "...",

    "operations": {
        "deploy": {
            "artifacts": {
                "node.js": {
                    "runner": "command-runner",
                    "comment": "wget must be installed",
                    "config": {
                        "command": "wget http://nodejs.org/dist/v0.10.26/node-v0.10.26-linux-x86.tar.gz && tar xvzf node-v0.10.26-linux-x86.tar.gz && mv node-v0.10.26-linux-x86 node"
                    }
                },
                "get-app": {
                    "runner": "command-runner",
                    "comment": "git must be installed",
                    "config": {
                        "command": "git clone https://git-server/chatapp.git && cd chatapp && npm install"
                    }
                },
                "start-app": {
                    "runner": "command-runner",
                    "config": {
                        "command": "./node/bin/node ./chatapp/app.js"
                    }
                },
                "mongodb": {
                    "runner": "command-runner",
                    "comment": "wget must be installed",
                    "config": {
                        "command": "wget http://downloads.mongodb.org/linux/mongodb-linux-x86_64-2.6.0.tgz && tar -zxvf mongodb-linux-x86_64-2.6.0.tgz && mv mongodb-linux-x86_64-2.6.0 mongodb && ./mongodb/bin/mongod --syslog --maxConns 10"
                    }
                }
            },
            "dependencies": [
                [ "start-app", "get-app" ],
                [ "start-app", "node.js" ],
                [ "start-app", "mongodb" ]
            ]
        }
    }
}
